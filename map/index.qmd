---
title: El Niño
format:
  360-embed-html: default
author: James Goldie
date: last-modified
resources:
  - worldmap-interactive-test.svg
360embed:
  before: |
    &lt;iframe allow=&quot;fullscreen&quot; allowfullscreen=&quot;true&quot; src=&quot;
  # uncomment and modify this line for production
  # url: https://feb2023.360info-heatmaps-narclim.pages.dev/news/
  after: |
    &quot; title=&quot;Interactive: future heat&quot; style=&quot;width:100%; height:500px; border:none; background-color: white;&quot; scrolling=&quot;no&quot;&gt;&lt;/iframe&gt;
---

{{< include _popup-buttons.qmd >}}

```{ojs}
/* load svg for interaction:
   https://observablehq.com/@rawgraphs/load-svg-and-add-simple-interaction */
mapGraphic = {
  const mapString = await FileAttachment("worldmap-interactive-test.svg").text()
  const svgDoc = (new DOMParser).parseFromString(mapString, "image/svg+xml");
  const svg = d3.select(svgDoc.documentElement).remove();

  /* interaction code */

  let btnElnino = svg.select("#btn-elnino")
  let impactsElnino = svg.selectAll("#impact-enso-sth-usa, #impact-enso-se-aus")
  let mapCaption = d3.select("#mapcaption")
  // console.log("Map caption element:")
  // console.log(mapCaption)

  btnElnino.on("click", function() {
    console.log("El Niño button clicked")
    impactsElnino.style("opacity", 0.5)
    btnElnino.style("opacity", 0.5)
    mapCaption.text("Now we can describe El Niño impacts in more detail!")
  })

  return svg.node()
}

```

```{=html}
<p id="mapcaption">We can put a message here.</p>
```

{{< include _popup-dialogs.qmd >}}
